<!--
  ูุงู: bookstore_index.html
  ุชูุถุญุงุช: ฺฉ ุณุงุช ุชฺฉโุตูุญูโุง ฺฉุชุงุจโูุฑูุด ุจุง HTML + Tailwind + JS (ุณุจุฏ ุฎุฑุฏุ ุฌุณุชุฌูุ ููุชุฑ ุฏุณุชูุ ูพูุฌุฑู ุฌุฒุฆุงุช)
  ูุญูู ุงุณุชูุงุฏู: ุงู ูุงู ุฑุง ุจุง ูุงู index.html ุฐุฎุฑู ฺฉูุฏ ู ูุณุชูู ุฏุฑ Netlify / GitHub Pages ุง ููุท ุจุงุฒ ฺฉุฑุฏู ุฏุฑ ูุฑูุฑฺฏุฑ ุงุฌุฑุง ฺฉูุฏ.
--><!doctype html>

<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ฺฉุชุงุจโูุฑูุด ุดุงุงูู โ Bookstore</title>
  <meta name="description" content="ฺฉุชุงุจโูุฑูุด ุขููุงู ุจุง ุทุฑุงุญ ุฒุจุงุ ุฌุณุชุฌูุ ููุชุฑ ู ุณุจุฏ ุฎุฑุฏ ูุญู. ููุงุณุจ ุจุฑุง ููุงุด ู ูุฑูุด ฺฉุชุงุจโูุง.">
  <meta name="keywords" content="ฺฉุชุงุจุ ูุฑูุดฺฏุงู ฺฉุชุงุจุ ุฑูุงูุ ฺฉูุฏฺฉุ ุนูู">
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ุณุจฺฉโูุง ุงุถุงูู */
    .line-clamp-2 { display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; overflow: hidden; }
    /* ุฑุงุณุชโฺู ุจูุชุฑ ุจุฑุง ูููุชโูุง ูุงุฑุณ ูุญู */
    body { font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", "Helvetica Neue", Arial, "Noto Sans", "Noto Nastaliq Urdu", "Vazirmatn", sans-serif; }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <!-- NAV -->
  <header class="bg-white shadow sticky top-0 z-30">
    <div class="container mx-auto px-4 py-4 flex items-center justify-between">
      <a href="#home" class="flex items-center gap-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v6l4 2" />
        </svg>
        <div>
          <h1 class="text-lg font-bold">ุดุงุงูู ุจูฺฉโุดุงูพ</h1>
          <p class="text-xs text-gray-500">ฺฉุชุงุจโูุง ุจุฑุชุฑุ ุงุฑุณุงู ุณุฑุน</p>
        </div>
      </a><div class="flex-1 mx-6">
    <div class="relative">
      <input id="searchInput" type="text" placeholder="ุฌุณุชุฌู ฺฉุชุงุจุ ููุณูุฏู ุง ISBN..." class="w-full rounded-md border-gray-200 shadow-sm pr-12 pl-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300" />
      <button id="clearSearch" class="absolute left-2 top-1/2 -translate-y-1/2 text-sm text-gray-500 hidden">ูพุงฺฉ</button>
      <button id="searchBtn" class="absolute left-2 top-1/2 -translate-y-1/2 text-gray-500">๐</button>
    </div>
  </div>

  <div class="flex items-center gap-4">
    <nav class="hidden md:flex gap-3">
      <a href="#shop" class="text-sm text-gray-600 hover:text-indigo-600">ูุฑูุดฺฏุงู</a>
      <a href="#categories" class="text-sm text-gray-600 hover:text-indigo-600">ุฏุณุชูโูุง</a>
      <a href="#about" class="text-sm text-gray-600 hover:text-indigo-600">ุฏุฑุจุงุฑู ูุง</a>
    </nav>
    <button id="cartBtn" class="relative bg-indigo-600 text-white px-3 py-2 rounded-md shadow hover:bg-indigo-700">ุณุจุฏ ุฎุฑุฏ <span id="cartCount" class="bg-white text-indigo-600 rounded-full px-2 py-0.5 text-xs mr-2">0</span></button>
  </div>
</div>

  </header>  <!-- HERO -->  <section id="home" class="container mx-auto px-4 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <div>
        <h2 class="text-3xl md:text-4xl font-extrabold">ุฏูุง ุงุฒ ฺฉุชุงุจโูุง ุฏุฑ ฺฉโุฌุง ๐</h2>
        <p class="mt-4 text-gray-600">ุฑูุงูโูุง ูุญุจูุจุ ฺฉุชุงุจโูุง ุนููุ ฺฉูุฏฺฉ ู ููุฌูุงู ู ููุงุจุน ุขููุฒุด. ุจุง ุฌุณุชุฌู ู ููุชุฑ ุณุฑุนุ ฺฉุชุงุจ ุฏูุฎูุงูุช ุฑู ูพุฏุง ฺฉู.</p><div class="mt-6 flex gap-3">
      <a href="#shop" class="bg-indigo-600 text-white px-5 py-3 rounded-md shadow hover:bg-indigo-700">ูุดุงูุฏู ฺฉุชุงุจโูุง</a>
      <a href="#about" class="border border-indigo-600 text-indigo-600 px-5 py-3 rounded-md hover:bg-indigo-50">ุฏุฑุจุงุฑู ูุง</a>
    </div>
  </div>
  <div>
    <img src="https://picsum.photos/seed/books1/800/600" alt="books" class="rounded-lg shadow-lg w-full object-cover" />
  </div>
</div>

  </section>  <!-- CATEGORIES -->  <section id="categories" class="container mx-auto px-4 py-6">
    <h3 class="text-xl font-bold mb-4">ุฏุณุชูโูุง</h3>
    <div class="flex gap-3 overflow-auto py-2">
      <button class="category-btn px-4 py-2 rounded-md bg-white shadow text-sm" data-cat="all">ููู</button>
      <button class="category-btn px-4 py-2 rounded-md bg-white shadow text-sm" data-cat="novel">ุฑูุงู</button>
      <button class="category-btn px-4 py-2 rounded-md bg-white shadow text-sm" data-cat="science">ุนูู</button>
      <button class="category-btn px-4 py-2 rounded-md bg-white shadow text-sm" data-cat="kids">ฺฉูุฏฺฉ ู ููุฌูุงู</button>
      <button class="category-btn px-4 py-2 rounded-md bg-white shadow text-sm" data-cat="edu">ุขููุฒุด</button>
      <button class="category-btn px-4 py-2 rounded-md bg-white shadow text-sm" data-cat="history">ุชุงุฑุฎ</button>
    </div>
  </section>  <!-- SHOP / PRODUCTS -->  <section id="shop" class="container mx-auto px-4 py-6">
    <div class="flex items-center justify-between">
      <h3 class="text-xl font-bold">ูุฑูุดฺฏุงู</h3>
      <div class="text-sm text-gray-500">ููุงุด <span id="visibleCount">0</span> ุงุฒ <span id="totalCount">0</span> ฺฉุชุงุจ</div>
    </div><div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-6">
  <!-- ฺฉุงุฑุชโูุง ฺฉุชุงุจ ุชูุณุท JS ุณุงุฎุชู ูโุดููุฏ -->
</div>

  </section>  <!-- PRODUCT MODAL -->  <div id="productModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40">
    <div class="bg-white rounded-lg w-11/12 md:w-3/4 lg:w-1/2 p-6 shadow-lg relative">
      <button id="closeModal" class="absolute left-4 top-4 text-gray-500">โ</button>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <img id="modalImg" src="" alt="" class="rounded-lg w-full object-cover" />
        <div class="md:col-span-2">
          <h4 id="modalTitle" class="text-2xl font-bold"></h4>
          <p id="modalAuthor" class="text-gray-600 mt-1"></p>
          <div class="mt-3 text-lg font-semibold" id="modalPrice"></div>
          <p class="mt-4 text-gray-700" id="modalDesc"></p><div class="mt-6 flex gap-3">
        <button id="addModalCart" class="bg-indigo-600 text-white px-4 py-2 rounded-md">ุงูุฒูุฏู ุจู ุณุจุฏ</button>
        <button id="buyNow" class="border border-indigo-600 text-indigo-600 px-4 py-2 rounded-md">ุฎุฑุฏ ุณุฑุน</button>
      </div>
    </div>
  </div>
</div>

  </div>  <!-- CART DRAWER -->  <aside id="cartDrawer" class="fixed top-0 right-0 h-full w-full md:w-96 transform translate-x-full transition-transform z-50 bg-white shadow-lg">
    <div class="p-4 border-b flex items-center justify-between">
      <h4 class="text-lg font-bold">ุณุจุฏ ุฎุฑุฏ</h4>
      <button id="closeCart" class="text-gray-500">โ</button>
    </div>
    <div id="cartItems" class="p-4 space-y-4 overflow-auto h-[60vh]"></div>
    <div class="p-4 border-t">
      <div class="flex items-center justify-between mb-3">
        <div class="text-sm text-gray-600">ุฌูุน</div>
        <div id="cartTotal" class="text-lg font-bold">0 ุชููุงู</div>
      </div>
      <div class="flex gap-3">
        <button id="checkout" class="flex-1 bg-indigo-600 text-white px-4 py-2 rounded-md">ูพุฑุฏุงุฎุช</button>
        <button id="clearCart" class="flex-1 border border-gray-300 rounded-md">ูพุงฺฉ ฺฉุฑุฏู</button>
      </div>
    </div>
  </aside>  <!-- ABOUT / CONTACT -->  <section id="about" class="container mx-auto px-4 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
      <div>
        <h3 class="text-2xl font-bold">ุฏุฑุจุงุฑู ุดุงุงูู ุจูฺฉโุดุงูพ</h3>
        <p class="mt-4 text-gray-600">ุดุงุงูู ุจูฺฉโุดุงูพ ฺฉ ูุฑูุดฺฏุงู ุงูุชุฑูุช ููููู ุจุฑุง ููุงุด ฺฉุงุชุงููฺฏ ฺฉุชุงุจโูุง ุงุณุช. ุงู ูุณุฎู ููููู ุงุณุช ู ุจุฑุง ุงุชุตุงู ุจู ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ู ูุฏุฑุช ูุญุตููุงุช ูโุชูุงู ุขู ุฑุง ุจู ูุณุฎู ูพุงุชูู/ุจฺฉโุงูุฏ ูุชุตู ฺฉุฑุฏ.</p><h4 class="mt-6 font-semibold">ุขุฏุฑุณ</h4>
    <p class="text-gray-600">ุชูุฑุงูุ ุงุฑุงู</p>

    <h4 class="mt-6 font-semibold">ุณุงุนุงุช ฺฉุงุฑ</h4>
    <p class="text-gray-600">ุดูุจู ุชุง ฺูุงุฑุดูุจู: น ุตุจุญ ุชุง ถ ุนุตุฑ</p>
  </div>

  <form id="contactForm" class="bg-white p-6 rounded-lg shadow">
    <h4 class="font-semibold mb-3">ุชูุงุณ ุจุง ูุง</h4>
    <input type="text" id="cname" placeholder="ูุงู" class="w-full border border-gray-200 rounded-md p-2 mb-3" required />
    <input type="email" id="cemail" placeholder="ุงูู" class="w-full border border-gray-200 rounded-md p-2 mb-3" required />
    <textarea id="cmessage" placeholder="ูพุงู ุดูุง" class="w-full border border-gray-200 rounded-md p-2 mb-3" rows="4"></textarea>
    <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded-md">ุงุฑุณุงู</button>
  </form>
</div>

  </section>  <!-- FOOTER -->  <footer class="bg-gray-800 text-white py-8 mt-8">
    <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-6">
      <div>
        <h5 class="font-bold">ุดุงุงูู</h5>
        <p class="text-sm text-gray-300 mt-2">ูุฑูุดฺฏุงู ฺฉุชุงุจ ุจุง ุทุฑุงุญ ูุฏุฑู. ุญููู ููู ูุทุงูุจ ูุญููุธ ุงุณุช.</p>
      </div>
      <div>
        <h5 class="font-bold">ุฏุณุชุฑุณ ุณุฑุน</h5>
        <ul class="mt-2 text-sm text-gray-300 space-y-1">
          <li><a href="#shop">ูุฑูุดฺฏุงู</a></li>
          <li><a href="#categories">ุฏุณุชูโูุง</a></li>
          <li><a href="#about">ุชูุงุณ ุจุง ูุง</a></li>
        </ul>
      </div>
      <div>
        <h5 class="font-bold">ุนุถูุช ุฏุฑ ุฎุจุฑูุงูู</h5>
        <p class="text-sm text-gray-300 mt-2">ุงูู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ุงุฒ ุชุฎููโูุง ุจุงุฎุจุฑ ุดูุฏ.</p>
        <div class="mt-3 flex gap-2">
          <input type="email" id="newsletter" placeholder="ุงูู ุดูุง" class="p-2 rounded-md w-full text-gray-800" />
          <button id="subNewsletter" class="bg-indigo-600 px-3 rounded-md">ุนุถู ุดู</button>
        </div>
      </div>
    </div>
  </footer>  <!-- SCRIPTS: ุณุงุฎุชุงุฑ ูุญุตููุงุชุ ุฑูุฏุฑุ ุณุจุฏ ุฎุฑุฏุ ุฌุณุชุฌูุ ููุชุฑ -->  <script>
    // ููููู ุฏุงุฏู ูุญุตููุงุช (ูุงุจู ุงูุฒุงุด) - ููุช ุจู ุชููุงู
    const products = [
      {id:1, title:'ุฑุงุฒ ููููุช', author:'ุฌุงู ุฏู', category:'science', price:120000, img:'https://picsum.photos/seed/book1/400/600', desc:'ฺฉุชุงุจ ููุฏ ุฏุฑุจุงุฑูู ุชูุณุนู ูุฑุฏ ู ุฑุงุฒูุง ููููุช.'},
      {id:2, title:'ุดุจโูุง ุชูุฑุงู', author:'ู. ุงูู', category:'novel', price:85000, img:'https://picsum.photos/seed/book2/400/600', desc:'ุฑูุงู ูุฏุฑู ุฏุฑุจุงุฑูู ุฒูุฏฺฏ ุดูุฑ ู ุนุดู.'},
      {id:3, title:'ูุฒฺฉ ุจุฑุง ููู', author:'ุฏฺฉุชุฑ ุณ', category:'edu', price:150000, img:'https://picsum.photos/seed/book3/400/600', desc:'ฺฉุชุงุจ ุขููุฒุด ุจุฑุง ูพุงูโูุง ุนููู ูุฒฺฉ.'},
      {id:4, title:'ูุงุฌุฑุงูุง ฺฉูุฏฺฉุงูู', author:'ููุณูุฏู ฺฉูุฏฺฉ', category:'kids', price:65000, img:'https://picsum.photos/seed/book4/400/600', desc:'ุฏุงุณุชุงูโูุง ฺฉูุชุงู ู ุฌุฐุงุจ ุจุฑุง ฺฉูุฏฺฉุงู.'},
      {id:5, title:'ุชุงุฑุฎ ุงุฑุงู', author:'ูพฺููุดฺฏุฑ', category:'history', price:200000, img:'https://picsum.photos/seed/book5/400/600', desc:'ูุฑูุฑ ุจุฑ ุฑูุฏุงุฏูุง ููู ุชุงุฑุฎ ุงุฑุงู.'},
      {id:6, title:'ุฏุงุณุชุงูโูุง ฺฉูุชุงู', author:'ููุณูุฏู ูุดููุฑ', category:'novel', price:78000, img:'https://picsum.photos/seed/book6/400/600', desc:'ูุฌููุนูโุง ุงุฒ ุฏุงุณุชุงูโูุง ฺฉูุชุงู ุชุฃููโุจุฑุงูฺฏุฒ.'},
      // ูโุชูุงูุฏ ูุญุตูู ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ
    ];

    // ูุถุนุช ุณุจุฏ ุฎุฑุฏ ุฐุฎุฑู ุฏุฑ localStorage
    let cart = JSON.parse(localStorage.getItem('cart_v1')) || [];

    // ุงูููุชโูุง
    const productsGrid = document.getElementById('productsGrid');
    const totalCountEl = document.getElementById('totalCount');
    const visibleCountEl = document.getElementById('visibleCount');
    const cartCount = document.getElementById('cartCount');
    const cartBtn = document.getElementById('cartBtn');
    const cartDrawer = document.getElementById('cartDrawer');
    const cartItemsEl = document.getElementById('cartItems');
    const cartTotalEl = document.getElementById('cartTotal');
    const closeCart = document.getElementById('closeCart');
    const clearCartBtn = document.getElementById('clearCart');
    const checkoutBtn = document.getElementById('checkout');

    const productModal = document.getElementById('productModal');
    const closeModal = document.getElementById('closeModal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalAuthor = document.getElementById('modalAuthor');
    const modalPrice = document.getElementById('modalPrice');
    const modalDesc = document.getElementById('modalDesc');
    const addModalCart = document.getElementById('addModalCart');

    const searchInput = document.getElementById('searchInput');
    const searchBtn = document.getElementById('searchBtn');
    const clearSearch = document.getElementById('clearSearch');

    // ููุฏุงุฑุฏู ุงููู
    totalCountEl.textContent = products.length;

    function formatPrice(n){
      return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + ' ุชููุงู';
    }

    // ุฑูุฏุฑ ูุญุตููุงุช
    function renderProducts(list){
      productsGrid.innerHTML = '';
      list.forEach(p => {
        const card = document.createElement('article');
        card.className = 'bg-white rounded-lg shadow overflow-hidden';
        card.innerHTML = `
          <img src="${p.img}" alt="${p.title}" class="w-full h-56 object-cover cursor-pointer" data-id="${p.id}" />
          <div class="p-4">
            <h4 class="font-semibold text-lg line-clamp-2">${p.title}</h4>
            <p class="text-sm text-gray-500">${p.author}</p>
            <div class="mt-3 flex items-center justify-between">
              <div class="font-bold">${formatPrice(p.price)}</div>
              <div class="flex gap-2">
                <button class="add-cart text-sm px-3 py-1 rounded-md bg-indigo-600 text-white" data-id="${p.id}">ุงุถุงูู</button>
                <button class="view-btn text-sm px-3 py-1 rounded-md border" data-id="${p.id}">ุฌุฒุฆุงุช</button>
              </div>
            </div>
          </div>
        `;
        productsGrid.appendChild(card);
      });
      visibleCountEl.textContent = list.length;

      // ุงูุตุงู ุฑูุฏุงุฏูุง
      document.querySelectorAll('.add-cart').forEach(b => b.addEventListener('click', e => addToCart(parseInt(e.target.dataset.id))));
      document.querySelectorAll('.view-btn').forEach(b => b.addEventListener('click', e => openModal(parseInt(e.target.dataset.id))));
      document.querySelectorAll('img[data-id]').forEach(img => img.addEventListener('click', e => openModal(parseInt(e.target.dataset.id))));
    }

    // ููุชุฑ ุจุฑ ุงุณุงุณ ุฏุณุชู
    document.querySelectorAll('.category-btn').forEach(btn => btn.addEventListener('click', e => {
      const cat = e.target.dataset.cat;
      document.querySelectorAll('.category-btn').forEach(x => x.classList.remove('bg-indigo-100'));
      e.target.classList.add('bg-indigo-100');
      if(cat === 'all') renderProducts(products);
      else renderProducts(products.filter(p => p.category === cat));
    }));

    // ุฌุณุชุฌู
    searchBtn.addEventListener('click', ()=> applySearch());
    searchInput.addEventListener('keypress', e => { if(e.key === 'Enter') applySearch(); });
    clearSearch.addEventListener('click', ()=> { searchInput.value=''; clearSearch.classList.add('hidden'); renderProducts(products); });
    searchInput.addEventListener('input', ()=> { clearSearch.classList.toggle('hidden', searchInput.value.trim()===''); });

    function applySearch(){
      const q = searchInput.value.trim().toLowerCase();
      if(!q) { renderProducts(products); return; }
      const res = products.filter(p => (p.title + ' ' + p.author).toLowerCase().includes(q));
      renderProducts(res);
    }

    // ููุฏุงู
    let currentModalId = null;
    function openModal(id){
      const p = products.find(x=>x.id===id);
      if(!p) return;
      currentModalId = id;
      modalImg.src = p.img;
      modalTitle.textContent = p.title;
      modalAuthor.textContent = p.author;
      modalPrice.textContent = formatPrice(p.price);
      modalDesc.textContent = p.desc;
      productModal.classList.remove('hidden');
      productModal.classList.add('flex');
    }
    closeModal.addEventListener('click', ()=> { productModal.classList.add('hidden'); productModal.classList.remove('flex'); });
    addModalCart.addEventListener('click', ()=>{ if(currentModalId) addToCart(currentModalId); });

    // ุณุจุฏ ุฎุฑุฏ
    function saveCart(){ localStorage.setItem('cart_v1', JSON.stringify(cart)); updateCartUI(); }
    function addToCart(id){
      const p = products.find(x=>x.id===id);
      if(!p) return;
      const found = cart.find(c=>c.id===id);
      if(found) found.qty++;
      else cart.push({id:p.id, title:p.title, price:p.price, img:p.img, qty:1});
      saveCart();
      // ุจุงุฒ ฺฉุฑุฏู ุฏุฑ ุตูุฑุช ุงุถุงูู ุดุฏู
      openCart();
    }

    function updateCartUI(){
      cartCount.textContent = cart.reduce((s,i)=>s+i.qty,0);
      cartItemsEl.innerHTML = '';
      if(cart.length===0) cartItemsEl.innerHTML = '<p class="text-gray-500">ูฺ ฺฉุชุงุจ ุฏุฑ ุณุจุฏ ูุณุช.</p>';
      cart.forEach(item => {
        const div = document.createElement('div');
        div.className = 'flex items-center gap-3';
        div.innerHTML = `
          <img src="${item.img}" alt="" class="w-16 h-20 object-cover rounded">
          <div class="flex-1">
            <div class="font-semibold">${item.title}</div>
            <div class="text-sm text-gray-500">${formatPrice(item.price)}</div>
            <div class="text-sm text-gray-500">ุชุนุฏุงุฏ: <button data-id="${item.id}" class="dec text-xs px-2">-</button> <span class="mx-1">${item.qty}</span> <button data-id="${item.id}" class="inc text-xs px-2">+</button></div>
          </div>
          <div class="font-semibold">${formatPrice(item.price * item.qty)}</div>
        `;
        cartItemsEl.appendChild(div);
      });
      cartItemsEl.querySelectorAll('.inc').forEach(b => b.addEventListener('click', e=>{ changeQty(parseInt(e.target.dataset.id),1); }));
      cartItemsEl.querySelectorAll('.dec').forEach(b => b.addEventListener('click', e=>{ changeQty(parseInt(e.target.dataset.id),-1); }));

      const total = cart.reduce((s,i)=>s + i.price * i.qty, 0);
      cartTotalEl.textContent = formatPrice(total);
    }

    function changeQty(id, delta){
      const it = cart.find(c=>c.id===id);
      if(!it) return;
      it.qty += delta;
      if(it.qty <= 0) cart = cart.filter(c=>c.id!==id);
      saveCart();
    }

    function openCart(){ cartDrawer.style.transform = 'translateX(0)'; updateCartUI(); }
    function closeCartFn(){ cartDrawer.style.transform = 'translateX(100%)'; }
    cartBtn.addEventListener('click', openCart);
    closeCart.addEventListener('click', closeCartFn);
    clearCartBtn.addEventListener('click', ()=>{ if(confirm('ูพุงฺฉ ฺฉุฑุฏู ุณุจุฏุ')){ cart = []; saveCart(); } });

    checkoutBtn.addEventListener('click', ()=>{
      if(cart.length===0){ alert('ุณุจุฏ ุฎุฑุฏ ุฎุงู ุงุณุช.'); return; }
      // ุฏุฑ ูุณุฎู ุณุงุฏูุ ููุท ููุงุด ูพุบุงู
      alert('ุจู ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ููุชูู ูโุดูุฏ (ุงู ูุณุฎู ููููู ุงุณุช). ูุฌููุน: ' + cartTotalEl.textContent);
      // ุจุฑุง ูุณุฎู ูุงูุน ุจุงุฏ ุจู ุจฺฉโุงูุฏ ู ุฏุฑฺฏุงู ูุชุตู ุดูุฏ.
    });

    // ุฐุฎุฑู ุงููู ู ุฑูุฏุฑ
    renderProducts(products);
    updateCartUI();

    // ูุฑู ุชูุงุณ
    document.getElementById('contactForm').addEventListener('submit', e=>{
      e.preventDefault();
      alert('ูพุงู ุดูุง ุซุจุช ุดุฏ. ููููู!');
      e.target.reset();
    });

    // ุฎุจุฑูุงูู ฺฉูฺฺฉ
    document.getElementById('subNewsletter').addEventListener('click', ()=>{
      const email = document.getElementById('newsletter').value.trim();
      if(!email) return alert('ูุทูุงู ุงูู ุฑุง ูุงุฑุฏ ฺฉูุฏ.');
      alert('ููููู! ุงูู ุดูุง ุซุจุช ุดุฏ.');
      document.getElementById('newsletter').value='';
    });

    // ุจูุจูุฏ UX: ุจุณุชู ููุฏุงู ุจุง ESC ู ฺฉูฺฉ ุฑู ูพุดุชโุฒููู
    window.addEventListener('keydown', e=>{ if(e.key==='Escape'){ productModal.classList.add('hidden'); productModal.classList.remove('flex'); closeCartFn(); } });
    productModal.addEventListener('click', e=>{ if(e.target === productModal){ productModal.classList.add('hidden'); productModal.classList.remove('flex'); } });

  </script></body>
                                        </html>
